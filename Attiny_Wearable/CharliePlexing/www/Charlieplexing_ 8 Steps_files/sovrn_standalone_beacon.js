/* sovrn_stndalne_beacon v0.0.1 
Updated : 2019-01-08 */
window.sovrn=window.sovrn||{},sovrn.auction=sovrn.auction||{},beaconFlag=!1,sovrn.auction={doNotTrack:function(n,t){n=n||navigator,t=t||window;var e=sovrn.auction.readCookie("tracking_optout");return"yes"===n.doNotTrack||"1"===n.doNotTrack||"1"===n.msDoNotTrack||"1"===t.doNotTrack||"1"===e},readCookie:function(n){for(var t=n+"=",e=document.cookie.split(";"),o=0;o<e.length;o++){for(var r=e[o];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},sendBeacon:function(){sovrn.auction.beaconConfig=sovrn.auction.getParams(sovrn.auction.getScriptTag());try{var n,t;if(beaconFlag)return!1;n="sovrn_beacon",t=sovrn.auction.createiFrame(n,1,1),t.src=sovrn.auction.getBeaconURL(),document.body.appendChild(t),beaconFlag=!0}catch(e){return!1}return!0},getParams:function(n){var t=n.getAttribute("id"),e=document.getElementById(t);if(null==e)return!1;currentTagSRC=e.src;var o,r;return r={},o=currentTagSRC.split("?")[1]||"",(o=o.split("#")[0]||"")?(o.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(n,t,e,o){try{r[t]=decodeURIComponent(o)}catch(a){sovrn.ads.dbg(a)}}),r.currentTag=t,r.location=e.parentNode.nodeName,r):{}},getScriptTag:function(){var n,t,e,o=/^(https?:)?\/\/.*\.lijit\.(com|dev)\/www\/sovrn_beacon_standalone\/sovrn_standalone_beacon(\.min)?\.js/i,r=o;if("currentScript"in document&&(e=document.currentScript,e&&r.test(e.src)))return e;for(n=document.getElementsByTagName("script"),t=n.length-1;t>=0;t--)if(r.test(n[t].src))return n[t];return null},createiFrame:function(n,t,e){var o,r,a,c,i,s;o=document.createElement("iframe"),r=o.style,i={id:n,margin:"0",padding:"0",frameborder:"0",width:t+"",height:e+"",scrolling:"no",src:"about:blank"},s={margin:"0px",padding:"0px",border:"0px none",width:t+"px",height:e+"px",overflow:"hidden"};for(a in i)i.hasOwnProperty(a)&&o.setAttribute(a,i[a]);for(c in s)if(s.hasOwnProperty(c))try{r[c]=s[c]}catch(d){}return o},getBeaconURL:function(){var n=sovrn.auction.beaconConfig.hasOwnProperty("iid")?sovrn.auction.beaconConfig.iid:"",t=sovrn.auction.gdprConsent?sovrn.auction.gdprConsent:"";return"//ap.lijit.com/beacon?informer="+n+"&gdpr_consent="+t},sovrnReady:function(n){/in/.test(document.readyState)?setTimeout(function(){sovrn.auction.sovrnReady(n)},50):n()},configureGdpr:function(){var n=this;this.lookupIabConsent(function(t){sovrn.auction.gdprConsent=t.getConsentData.consentData,n.sendBeacon()},function(){n.sendBeacon()})},callCmpFromSafeframe:function(n,t,e){var o=function(n,o){"cmpReturn"===n&&e(o[t])};window.$sf.ext.register(1,1,o),window.$sf.ext.cmp(n)},cmpCallbacks:{},callCmpWhileInIframe:function(n,t,e){var o=this,r=Math.random()+"",a={__cmp:{command:"registerIframeVendor",parameter:{id:window.frameElement.id},callId:r}};sovrn.auction.cmpCallbacks[r]=e,t.postMessage(a,"*");var c={__cmpCall:{command:n,parameter:null,callId:r}};t.postMessage(c,"*"),window.addEventListener("message",function(n){n.data&&n.data.__cmpReturn&&n.data.__cmpReturn.returnValue&&n.data.__cmpReturn.callId&&o.cmpCallbacks[n.data.__cmpReturn.callId](n.data.__cmpReturn.returnValue)},!1)},lookupIabConsent:function(n,t){function e(){r.getConsentData&&r.getVendorConsents&&n(r)}var o,r={},a=function(n){r.getConsentData=n,e()},c=function(n){r.getVendorConsents=n,e()};try{o=window.__cmp||window.top.__cmp}catch(i){t(i)}if("function"==typeof o)o("getConsentData",null,a),o("getVendorConsents",null,c);else if(window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp)this.callCmpFromSafeframe("getConsentData","vendorConsentData",a),this.callCmpFromSafeframe("getVendorConsents","vendorConsents",c);else{for(var s,d=window;!s;){try{d.frames.__cmpLocator&&(s=d)}catch(i){t(i)}if(d===window.top)return this.sendBeacon();d=d.parent}this.callCmpWhileInIframe("getConsentData",s,a),this.callCmpWhileInIframe("getVendorConsents",s,c)}}},sovrn.auction.sovrnReady(function(){dnt=sovrn.auction.doNotTrack(),dnt===!1&&sovrn.auction.configureGdpr()});